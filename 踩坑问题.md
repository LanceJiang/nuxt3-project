# 记录一些踩坑的问题和思考

## 一、文章详情的目录如何制作？

1. 第一种：通过接口返回的 `html` 文本字符串，正则匹配 `h1,h2` 等标签，并动态加入属性，可以通过点击锚点跳转到指定位置。
2. 第二种：等到文章渲染完成之后，获取页面的 `dom` 元素的 `h1,h2` 等标签，并动态加入属性，可以通过点击锚点跳转到指定位置。

### 1.1 需要解决的问题：如果制作树形目录？

> https://www.codenong.com/j5de0724b6fb9a071b61/

### 1.2 需要解决的问题：锚点位置被头部导航挡住部分内容怎么办？

> https://juejin.cn/post/6844904118738223117

## 二、掘金网站上 svg 图标无法保存到本地，会报错 401 (Unauthorized)

将 svg 元素直接复制到代码中（没办法中办法）

## 三、切换路由时，会照成跨域？

> `userFeath` 方法会在组件（限于页面组件）每次加载之前被调用。它可以在服务端或路由更新之前被调用。 但这个方法并不是每次都从服务端渲染，只有当页面刷新时才从服务端渲染，而在客户端点击链接跳转时并不从服务端渲染，而是和标准 Vue 单页面应用一样，从客户端进行渲染。

可以将 **路由跳转** 或者 **nuxt-link 跳转** 改为 使用 `a` 标签进行跳转，通过 `a` 标签进行跳转，页面会被重新渲染，即相当于重新打开一个新的网页，体现为视觉上的“闪烁”。不知道 掘金 是如何优化 ”闪烁“ 的问题，有大佬懂的吗（求教学）....
